"use strict";function isCrustyBrowser(){return"function"!=typeof Element.prototype.attachShadow||window.ShadyCSS&&!window.ShadyCSS.nativeShadow}window.addEventListener("DOMContentLoaded",function(){if(isCrustyBrowser()){var e=document.querySelector(".pfe-navigation__logo-image");if(e){var t=e.getAttribute("src");e.setAttribute("src",t.substring(0,t.length-4)+".png")}for(var n=document.querySelectorAll(".pfe-navigation__menu .pfe-navigation__dropdown"),i=0;i<n.length;i++){var o=n[i];o.parentNode.removeChild(o)}}var a=document.getElementById("pfe-navigation"),r=document.getElementById("portal-utility-nav"),d=document.getElementById("global-skip-to-nav");function u(e){if(e)return e.querySelector('pfe-navigation, button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)');console.warn("You need to pass a parent HTMLElement")}function c(){var e=function(e,t){switch(e.compareDocumentPosition(t)){case 2:return t.tagName;case 4:return e.tagName;case 8:return t.tagName;case 16:return e.tagName;default:return"PFE-NAVIGATION"}}(r,a),t=u(document.querySelector(e));e===a.tagName&&a.shadowRoot&&(t=u(a.shadowRoot)),t.tagName===a.tagName&&(t&&t.shadowRoot?t=u(t.shadowRoot):t&&!t.shadowRoot&&(t=u(a))),t.focus()}new MutationObserver(function(){r.hasAttribute("hidden")||"mobile"!==a.breakpoint?(r.hasAttribute("hidden")&&"tablet"===a.breakpoint||"desktop"===a.breakpoint)&&(r.hidden=!1,d.setAttribute("href","#"+r.id)):(r.hidden=!0,d.setAttribute("href","#"+a.id))}).observe(a,{attributes:!0,attributesFilter:"breakpoint"}),d.addEventListener("keydown",function(e){switch(e.key){case"Enter":case" ":e.preventDefault(),c();default:return}})}),document.addEventListener("pfe-navigation:expanded-item",function(e){if(e.detail.pane&&e.detail.pane.children[0].classList.contains("has-primary-detail")){var t=e.detail.parent.querySelector(".main-menu__dropdown--product__product-listing");"function"==typeof t._setBreakpoint&&t._setBreakpoint()}}),chrometwo_require(["session","pfe","wc","nimbus/searchbar"],function(e,t,n,i){t.include("pfe-icon"),t.include("pfe-cta"),t.include("pfe-avatar"),n.include("@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd.min"),n.include("@cpelements/rh-site-switcher/dist/site-switcher.umd.min"),n.include("@cpelements/pfe-navigation/dist/pfe-navigation.umd.min"),isCrustyBrowser()||t.include("pfe-primary-detail");var o=void 0,a=document.querySelector("rh-account-dropdown"),r=portal.lang,d=document.querySelector("pfe-navigation"),u={en:{login:"Log In",menu:"Menu",search:"Search"},ja:{login:"ログイン",menu:"メニュー",search:"検索"},ko:{login:"로그인",menu:"Menu",search:"검색"},zh:{login:"登录",menu:"Menu",search:"搜索"},de:{login:"Anmelden",menu:"Menu",search:"Suche"},fr:{login:"Connexion",menu:"Menu",search:"Rechercher"},it:{login:"Accedi",menu:"Menu",search:"Cerca"},es:{login:"Iniciar sesión",menu:"Menu",search:"Buscar"},pt:{login:"Login",menu:"Menu",search:"Pesquisar"}};function c(){void 0===(o=e.getToken())?a.setAttribute("login-link",e.getLoginUrl()):(a.setAttribute("logout-link",e.getLogoutUrl()),a.userData=o)}chrometwo_require(["public_modules/@cpelements/pfe-navigation/dist/pfe-navigation.umd.min"],function(){d._navTranslations=u,i.init(),"en"!==r&&d.setAttribute("lang",r),n.include("@cpelements/rh-account-dropdown/dist/rh-account-dropdown.umd.min"),chrometwo_require(["public_modules/@cpelements/rh-account-dropdown/dist/rh-account-dropdown.umd.min"],function(){"en"!==r&&("zh_CN"===r?document.querySelector("rh-account-dropdown").setAttribute("lang","zh"):document.querySelector("rh-account-dropdown").setAttribute("lang",r)),e.onInit(c)})}),chrometwo_require(["public_modules/@cpelements/rh-site-switcher/dist/site-switcher.umd.min"],function(){"zh_cn"===r.toLowerCase()&&(r="zh");var e=document.createElement("div");e.setAttribute("slot","secondary-links"),e.classList.add("pfe-navigation__site-switcher"),e.innerHTML='<button class="pfe-navigation__secondary-link"><pfe-icon icon="web-icon-grid-3x3" size="sm" aria-hidden="true"></pfe-icon>'+{en:"All Red Hat",ko:"모든 Red Hat",ja:"すべての Red Hat",zh:"所有红帽"}[r]+'</button> <pfe-navigation-dropdown dropdown-width="full"><site-switcher lang="'+r+'"></site-switcher></pfe-navigation-dropdown>';var t=document.getElementById("pfe-navigation");t&&t.append(e)})});
//# sourceMappingURL=new-nav.js.map